generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model autoinfracao {
  id             Int         @id @default(autoincrement())
  data_emissao   DateTime    @db.Timestamp(6)
  cpf            String      @db.VarChar(191)
  lat            Int
  lon            Int
  id_exemplocaso Int
  descricao      String      @db.VarChar(191)
  fiscal         fiscal      @relation(fields: [cpf], references: [cpf], onDelete: Cascade)
  exemplocaso    exemplocaso @relation(fields: [id_exemplocaso], references: [id], onDelete: Cascade)
}

model exemplocaso {
  id           Int            @id @default(autoincrement())
  palavrachave String         @db.VarChar(191)
  naturezadano String         @db.VarChar(191)
  proc_op      String         @db.VarChar(191)
  proc_adm     String         @db.VarChar(191)
  enq_pen      String         @db.VarChar(191)
  enq_adm      String         @db.VarChar(191)
  modelo       String         @db.VarChar(191)
  autoinfracao autoinfracao[]
}

model fiscal {
  cpf          String         @id @db.VarChar(191)
  nome         String         @db.VarChar(191)
  senha        String         @db.VarChar(191)
  tipo         tipo_usuario
  autoinfracao autoinfracao[]
}

enum tipo_usuario {
  fiscal
  administrador
}
